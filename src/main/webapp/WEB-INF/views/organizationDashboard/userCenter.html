<!DOCTYPE html>
<!-- saved from url=(0035)http://users.ucpaas.com/%20/l%20/#/ -->
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="webkit" name="renderer">
    <title>用户中心</title>
    <#include "/common/cssResource.html">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="">
    <link href="${ctx}/metronic/new_modules/app_info.css" rel="stylesheet">
    <link rel="stylesheet" href="${ctx}/metronic/mobile/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="/metronic/mobile/css/bootstrap-datepicker3.min.css"> -->
    <link href="${ctx}/metronic/new_modules/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <script>
       var StaticInfoDaily = "${StaticInfoDaily}";
       var t_Profile_OrgName = "${organizationProfileDetail.t_Profile_OrgName}";
       var t_Profile_APIret = "${organizationProfileDetail.t_Profile_APIret}";
       var StaticInfo = "${StaticInfo}";
       var t_Profile_Mobile = "${organizationProfileDetail.t_Profile_Mobile}";
    </script>
</head>

<body>

    <div id="notIE9">
        <!-- BEGIN CONTENT -->
        <div class="page-content-wrapper">
            <!-- BEGIN CONTENT BODY -->
            <div id="contentDiv" class="page-content" style="margin-left:0px;">
                <div id="layout" class="layout-wrap relative">
                    <div data-v-div="" id="page-index" class="page-index">
                        <div data-v-div="" class="clearfix grid-info">
                            <div data-v-div="" class="col-8 item">
                                <div data-v-div="" class="bg-fff item-ctx">
                                    <div data-v-div="" class="cell-title clearfix">账户信息</div>
                                    <div data-v-div="" class="cell-ctx">
                                        <div data-v-div="" class="account-info">
                                            <div data-v-div="" class="balance clearfix">
                                                <div data-v-div="" class="clearfix"><img data-v-div=""
                                                        src="${ctx}/images/user.png"
                                                        class="fl">
                                                    <div data-v-div="" class="f2">
                                                        <div data-v-div="" class="name ellipsis"
                                                            style="width: 260px; height: 30px;" id="t_Profile_OrgName">${organizationProfileDetail.t_Profile_OrgName}</div>
                                                        <div data-v-div="" class="clearfix">
                                                            <div data-v-div="" class="status fl green"
                                                                style="color:#26a1ab;">${organizationProfileDetail.t_Profile_text1}</div>
                                                        </div>
                                                        <div>
                                                            <a data-v-div="" style="margin:1px;" class="btn btn-md btn-green fr " href="${ctx}/PersonalInfoBatchUploadController/personalInfoBatchUploadNew">批量上传</a>
                                                            <a data-v-div="" style="margin:1px;" class="btn btn-md btn-green fr " href="${ctx}/DeploymentController/Deploylist">批量代发</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-v-div="" class="col-8 item">
                                <div data-v-div="" class="bg-fff item-ctx">
                                    <div data-v-div="" class="cell-title clearfix">今日数据
                                        <a data-v-div="" class="fr link-green" href="${ctx}/HistoricalTxnQueryController/historicalTxnQueryList">交易记录</a></div>
                                    <div data-v-div="" class="cell-ctx p-15">
                                        <div data-v-div="" class="submit">今日交易量</div>
                                        <div data-v-div="" class="submit-num">笔</div>
                                        <div data-v-div="" class="send">交易情况</div>
                                        <div data-v-div="" class="clearfix send-num">
                                            <div data-v-div="" class="fl grid1" href="#">交易中
                                                <span data-v-div="" class="orange">--</span>
                                            </div>
                                            <div data-v-div="" class="fl grid2" href="#">交易成功
                                                <span data-v-div="" class="green">--</span>
                                            </div>
                                            <div data-v-div="" class="fl grid3"href="#">充值总额
                                                <span data-v-div="" class="red">--</span>
                                            </div>
                                            <div data-v-div="" class="fl grid1" href="#">优惠券
                                                <span data-v-div="" class="orange">--</span>
                                            </div>
                                            <div data-v-div="" class="fl grid2" href="#">交易失败
                                                <span data-v-div="" class="red">--</span>
                                            </div>
                                            <div data-v-div="" class="fl grid3" href="#">交易总额
                                                <span data-v-div="" class="red">--</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-v-div="" class="col-8 item">
                                <div data-v-div="" class="bg-fff item-ctx">
                                    <div data-v-div="" class="cell-title clearfix">API信息</div>
                                    <div data-v-div="" class="cell-ctx" style="padding-top: 15px;">
                                        <div data-v-div="" class="clearfix send-num">
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                接口账号:&nbsp;&nbsp;
                                                <span data-v-div="" class="orange">
                                                    <span data-v-div="" class="copymsgAccount"
                                                        style="font-size: 14px;">${organizationProfileDetail.t_Profile_Qualification}</span>
                                                </span>
                                                <a data-v-div="" href="javascript:;"
                                                    data-clipboard-target=".copymsgAccount"
                                                    class="copyAccountAction"
                                                    style="float: none; margin-left: 17px;">点击复制</a></div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                ip 地址:
                                                <span data-v-div="" class="orange">
                                                 <span data-v-div=""  style="width: 180px; font-weight: 800; 
                                                 margin-right: 5px; word-break: break-all;font-size: 13px;">${organizationProfileDetail.t_Profile_CurrentAddress}</span>
                                                </span></div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                接口密码:&nbsp;&nbsp;
                                                <span data-v-div="" class="orange">
                                                    <span data-v-div="" 
                                                          style="font-size: 14px;" type="password" id="t_Profile_APIPWD">******</span>
                                                </span>
                                                    <a data-v-div="" href="javascript:;"
                                                    class="copyPasswordAction"
                                                    style="float: none; margin-left: 10px;" data-clipboard-text="${organizationProfileDetail.t_Profile_APIPWD}">点击复制
                                                </a>
                                            </div>
                                            <div data-v-div="" id="port" class="fl grid1"
                                                style="width: 50%; display: none;"> 端口号:&nbsp;&nbsp;
                                                <span data-v-div="" class="orange" style="font-size: 12px;"></span>
                                            </div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                交易类型: 
                                                <span data-v-div="" class="orange" style="font-size: 12px;">${organizationProfileDetail.t_Profile_IPaddress}</span>
                                            </div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                接口速度:&nbsp;&nbsp;
                                                <span data-v-div="" class="orange" style="font-size: 12px;" id="t_Profile_APIretMin"></span>
                                            </div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                接口协议: 
                                                <span data-v-div="" class="orange" style="font-size: 12px;" id="t_Profile_APIretCat"></span></div>
                                            <div data-v-div="" class="fl grid1" style="width: 50%;">
                                                连接节点:&nbsp;&nbsp;
                                                <span data-v-div="" class="orange" style="font-size: 12px;" id="t_Profile_APIretNode"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div data-v-div="" class="p-10">
                            <div data-v-div="" class="grid-top bg-fff">
                                <div data-v-div="">
                                    <h2 data-v-div="">一周交易成交量
                                        <a data-v-div="" class="fr link-green mr10"
                                            style="font-size: 14px; font-weight: normal;">消耗报表
                                        </a>
                                    </h2>
                                </div>
                            </div>
                            <div data-v-div="" class="chart">
                                <div data-v-div="" id="echart"
                                    style="position: static; -webkit-tap-highlight-color: transparent; user-select: none; background: transparent;"
                                    _echarts_instance_="ec_1607406719054">
                                    <div
                                        style="position: relative; overflow: hidden; width: 100%; height: 400px; padding: 0px; margin: 0px; border-width: 0px; cursor: default;">
                                        <canvas id="main" width="2020" height="600" data-zr-dom-id="zr_0"
                                            style="position: absolute; left: 0px; top: 0px; width: 100%; height: 400px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END CONTENT BODY -->
        </div>
        <!-- END CONTENT -->
    </div>
    <!-- /复制功能插件/ -->
    <script type="text/javascript" src="${ctx}/metronic/new_modules/clipboard.min.js"></script>
    <!-- 图表 -->
    <script type="text/javascript" src="${ctx}/metronic/new_modules/echarts.common.min.js"></script>
    <script type="text/javascript" src="${ctx}/metronic/mobile/js/jquery.min.js"></script>
    <script script src="${ctx}/metronic/mobile/js/bootstrap.min.js" type="text/javascript"></script>
    <script script src="${ctx}/metronic/mobile/js/moment-with-locales.js" type="text/javascript"></script>
    <!-- // 日期插件 -->
    <script src="${ctx}/metronic/new_modules/bootstrap-datetimepicker.min.js"></script>
    <script>
        (()=>{
            const t_Profile_APIretSeg = window.t_Profile_APIret.split("&")
            document.getElementById("t_Profile_APIretMin").innerHTML = t_Profile_APIretSeg[0];
            document.getElementById("t_Profile_APIretCat").innerHTML = t_Profile_APIretSeg[1];
            document.getElementById("t_Profile_APIretNode").innerHTML = t_Profile_APIretSeg[2];
            const StaticInfoDailyArray = window.StaticInfoDaily.split('-');
            const StaticInfoDailyMap = {};
            StaticInfoDailyArray.map(d=>{
                const arr = d.split(':');
                StaticInfoDailyMap[arr[0]]=arr[1];
            })
            const StaticInfoArray = StaticInfo.split('-,');
            window.StaticInfoMap = {};
            StaticInfoArray.map(d=>{
                const arr = d.split(':');
                StaticInfoMap[arr[0]]=parseFloat(arr[1]);
            })
            console.log(StaticInfoDailyMap,StaticInfoMap);
            document.querySelector('.p-15').children[1].innerHTML=StaticInfoDailyMap['Txn_Static_TotTxnCountDaily']+'笔';
            Array.from(document.querySelector('.p-15').children[3].children).map((c,index)=>{
                let name;
                switch (index) {
                    case 1:
                        name ='Txn_Static_TotTxnAmtDaily';
                        break;
                    case 2:
                        name = 'T_CTxn_Succ_Txn()';
                        break;
                    case 4:
                        name ='T_CTxn_Fail_Txn()';
                }
                if(name&&StaticInfoDailyMap[name]&&StaticInfoDailyMap[name]!=='null') {
                    const span = c.querySelector('span')
                    if(span) {
                        span.innerText='￥'+StaticInfoDailyMap[name];
                    }
                }

            })
            if(t_Profile_OrgName==='ALL'){
                var el = document.querySelector('#t_Profile_OrgName');
                el.innerHTML=el.innerHTML+'-超级管理员';
            }
            if(t_Profile_Mobile==='on') {
                var el = document.querySelector('#t_Profile_OrgName');
                el.innerHTML=el.innerHTML+'-经销商';
            }
        })()
    </script>
    <script>
        // <input type='text' class="form-control" id='datetime' value="11" />

        // $(function () {
        //     $("#datetime").datetimepicker({
        //         format: 'YYYY-MM-DD hh:mm',
        //         locale: moment.locale('zh-cn')
        //     });
        // });
        window.onload = function () {
            var clipboard = new Clipboard(".copyAccountAction");
            clipboard.on('success', function (e) {
                console.log(e);
                clipboard.destroy();
                alert("复制账号成功");
            });
            clipboard.on('error', function (e) {
                console.error('Action', e.action);
            });
            var clipboard = new Clipboard(".copyPasswordAction");
            clipboard.on('success', function (e) {
                console.log(e);
                clipboard.destroy();
                alert("复制成功");
            });
            clipboard.on('error', function (e) {
                console.error('Action', e.action);
            });

        }
        var mychart = echarts.init(document.getElementById('main'));
        var keys = Object.keys(StaticInfoMap).reverse();
        var values = Object.values(StaticInfoMap).reverse();
        mychart.setOption({
            grid:{
                x:40,y:10,x2:10,y2:200
            },
            xAxis: {
                type: 'category',
                data: keys
            },
            yAxis: {
                type: 'value'
            },
            series: [{
                data: values,
                type: 'line',
                smooth: false
            }],
            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
                // formatter: null,
                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                    fontSize:16,    
                    fontWeight: 900
                }
            }
        });
        
        // function changePieData() {
        //     var option = mychart.getOption();
        //     var list = [{ "name": "满意", "value": "5" }, { "name": "基本满意", "value": "5" }, { "name": "不满意", "value": "5" }, { "name": "不满意", "value": "5" }, { "name": "基本满意", "value": "5" }];
        //     option.series[0].data = list;
        //     mychart.setOption(option);
        // }
    </script>
    
</body>

</html>