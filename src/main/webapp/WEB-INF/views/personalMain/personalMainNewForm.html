<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="utf-8" />
<title>新增员工</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1" name="viewport" />
<meta content="" name="description" />
<meta content="" name="author" />
<#include "/common/cssResource.html"> <#include
"/common/jsResource.html">

<script type="text/javascript">
    debugger;

jQuery.validator.addMethod("isIdCardNo", function(value, element) { 
    return this.optional(element) || idCardNoUtil.checkIdCardNo(value);     
}, "请正确输入您的身份证号码"); 

jQuery.validator.addMethod("IDCard", function(value, element) {     
    var tel =/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;  
    return this.optional(element) || (tel.test(value));  
}, "请输入有效的身份证号码");  

	$(document).ready(function() {
		var form = $('#inputForm');

		form.validate({
			errorElement : 'span', //default input error message container
			errorClass : 'help-block help-block-error', // default input error message class
			focusInvalid : false, // do not focus the last invalid input
			rules : {
                t_personal_main_pid : {
					maxlength : 18,
					required : true,
					IDCard : true,
					remote : "${ctx}/jqueryValidateController/checkPersonalMainName?platform=${platform}" + "&t_personal_main_pid=" + $("t_personal_main_pid").val()
				},
                email : {
                    maxlength : 100,
                    required : true,
                    isEmail : true
                },
				link : {
					required : true,
					maxlength : 100
				},
				shiroPermission : {
					maxlength : 50
				}
			},
			
			
			messages: {

                t_personal_main_pid:{
    				remote : "身份证已存在",
                	required :"请输入身份证号",
                	isIdCardNo:"请输入正确的身份证号"
                },
			},
	
			invalidHandler : function(event, validator) { //display error alert on form submit              
				App.scrollTo(form, 0);
			},
	
			highlight : function(element) { // hightlight error inputs
				$(element).closest('.form-group').removeClass(
						"has-success").addClass('has-error'); // set error class to the control group   
			},
	
			unhighlight : function(element) { // revert the change done by hightlight
	
			},
	
			success : function(label, element) {
				var icon = $(element).parent('.input-icon').children(
						'i');
				$(element).closest('.form-group').removeClass(
						'has-error').addClass('has-success'); // set success class to the control group
				icon.removeClass("fa-warning").addClass("fa-check");
			},
            
			submitHandler : function(form) {
				var formData = new FormData($('#inputForm')[0]); 
				$.ajax({
					url: "${ctx}/PersonalMainController/addPersonalMain",
					type: 'POST',  
					data: formData,  
					async: true,  
					cache: false,  
					contentType: false,  
					processData: false,  
					success: function (data) { 
						var result = eval("("+data+")");
						alert(result.msg);
						parent.window.location.reload();
					   	var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
					   	parent.layer.close(index);
					},  
					error: function (data) {  
						var result = eval("("+data+")");
				    	alert(result.msg);
					}  
	            });
			}
		});
		
		$("#dirParent").hide();
		$("#menuParent").hide();
		$("#linkDiv").hide();
		
	});
	
	function typeSelector(selector){
		var typeSelect = $(selector).find("option:selected").val();
		if (typeSelect == "" || typeSelect == "0") {
			$("#dirParent").hide();
			$("#menuParent").hide();
			$("#parentId").val("");
			$("#linkDiv").hide();
			$("#link").val("");
		} else if (typeSelect == "1") {
			$("#dirParent").show();
			$("#menuParent").hide();
			setParentId($("#dirParentSelector"));
			$("#linkDiv").show();
		} else if (typeSelect == "2") {
			$("#dirParent").hide();
			$("#menuParent").show();
			setParentId($("#menuParentSelector"));
			$("#linkDiv").hide();
			$("#link").val("");
		}
	}

	
</script>
</head>
<body>
	<div class="portlet light bordered">
		<div class="portlet-body form">
			<!-- BEGIN FORM-->
			<form id="inputForm" class="form-horizontal form-row-seperated">
				<input type="hidden" name="platform" value="${platform}">
				<div class="form-body">
					<div class="form-group">
						<label class="control-label col-sm-3">姓名 <span
							class="required"> * </span>
						</label>
						<div class="col-sm-9">
							<div class="input-icon right">
								<i class="fa"></i> <input type="text" class="form-control"
									name="t_personal_main_name" />
							</div>
						</div>
					</div>
                    <div class="form-group">
                        <label class="control-label col-sm-3">状态<span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <select class="bs-select form-control" name="status">
                                    <option value="1">开启</option>
                                    <option value="0">关闭</option>
                                </select>
                            </div>
                        </div>
                    </div>
					<div class="form-group">
						<label class="control-label col-sm-3" style="color:red;background-color:yellow;">身份证 <span
							class="required"> * </span>
						</label>
						<div class="col-sm-9">
							<div class="input-icon right">
								<i class="fa"></i> <input type="text" class="form-control"
									name="t_personal_main_pid" id="t_personal_main_pid" />
							</div>
						</div>
					</div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">手机号 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control" 
                                                          name="t_personal_main_mobile" id="t_personal_main_mobile" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">备用手机号 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_mobile1" id="t_personal_main_mobile1" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">联系方式 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_contacts" id="t_personal_main_contacts" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">真实姓名 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_realname" id="t_personal_main_realname" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">指纹识别 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_fingerprint" id="t_personal_main_fingerprint" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">人脸识别 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_facialret" id="t_personal_main_facialret" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">安全认证<span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_securityret" id="t_personal_main_securityret" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">护照 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_passport" id="t_personal_main_passport" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">备用护照 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_passport1" id="t_personal_main_passport1" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">签证 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_visa" id="t_personal_main_visa" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">备用签证 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_visa1" id="t_personal_main_visa1" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">在线支付类型 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_onlinepaymentcat" id="t_personal_main_onlinepaymentcat" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">在线支付 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_onlinepayment" id="t_personal_main_onlinepayment" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">支付方式 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_paymentmethod" id="t_personal_main_paymentmethod" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">备用支付方式 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_paymentmethod1" id="t_personal_main_paymentmethod1" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">中国银行卡 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_CNbankcard" id="t_personal_main_CNbankcard" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">国际银行卡 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_GLbankcard" id="t_personal_main_GLbankcard" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">银行账户 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_bankacc" id="t_personal_main_bankacc" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">加密币 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_crypto" id="t_personal_main_crypto" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">资产种类 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_assetcat" id="t_personal_main_assetcat" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">优惠券 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_voucher" id="t_personal_main_voucher" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">信用分 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_creditscore" id="t_personal_main_creditscore" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">数字资产 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="t_personal_main_digiasset" id="t_personal_main_digiasset" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3" style="color:red;background-color:yellow;">邮件地址 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i> <input type="text" class="form-control"
                                                          name="email" id="email" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-3">备注 <span
                            class="required"> * </span>
                        </label>
                        <div class="col-sm-9">
                            <div class="input-icon right">
                                <i class="fa"></i><textarea style="width:1000px;height:88px;" class="form-control"
                                                            name="remark"></textarea>
                            </div>
                        </div>
                    </div>
				</div>
				<div class="form-actions">
					<div class="row">
						<div class="col-sm-3">
						</div>
						<div class="col-sm-9">
							<button type="submit" class="btn green">提交</button>
							<button type="button" class="btn default" onclick="parent.layer.closeAll();">取消</button>
						</div>
					</div>
				</div>
			</form>
		</div>
		<!-- END FORM-->
	</div>
</body>
</html>